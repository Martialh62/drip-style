<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>DRIP & STYLE - Gestion de Stock</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">DRIP & STYLE</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-page="dashboard">Tableau de bord</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-page="stock">Stock</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-page="transactions">Transactions</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-page="rapports">Rapports</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Dashboard -->
        <div id="dashboard" class="page active">
            <h2>Tableau de bord</h2>
            <div class="row mt-4 g-2">
                <div class="col-md-3">
                    <div class="card stats-card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <h5 class="card-title">Articles en stock</h5>
                                    <h3 id="totalArticles">0</h3>
                                </div>
                                <div class="stats-icon">
                                    <i class="ri-store-2-line"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card stats-card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <h5 class="card-title">Ventes du jour</h5>
                                    <h3 id="ventesJour">0</h3>
                                </div>
                                <div class="stats-icon">
                                    <i class="ri-shopping-cart-2-line"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card stats-card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <h5 class="card-title">Entrées du jour</h5>
                                    <h3 id="entreesJour">0</h3>
                                </div>
                                <div class="stats-icon">
                                    <i class="ri-archive-line"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card stats-card">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <h5 class="card-title">Alertes stock</h5>
                                    <h3 id="alertesStock">0</h3>
                                </div>
                                <div class="stats-icon warning">
                                    <i class="ri-alert-line"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mt-4 g-2">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Articles en alerte de stock</h5>
                            <div class="table-responsive">
                                <table class="table" id="tableAlertesStock">
                                    <thead>
                                        <tr>
                                            <th>Référence</th>
                                            <th>Nom</th>
                                            <th>Stock actuel</th>
                                            <th>Seuil d'alerte</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stock -->
        <div id="stock" class="page">
            <div class="d-flex justify-content-between align-items-center">
                <h2>Gestion du stock</h2>
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalArticle">
                    Nouvel article
                </button>
            </div>
            
            <div class="table-responsive mt-4">
                <table class="table" id="tableStock">
                    <thead>
                        <tr>
                            <th>Référence</th>
                            <th>Nom</th>
                            <th>Catégorie</th>
                            <th>Prix vente</th>
                            <th>Stock</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Transactions -->
        <div id="transactions" class="page">
            <div class="d-flex justify-content-between align-items-center">
                <h2>Transactions</h2>
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalTransaction">
                    Nouvelle transaction
                </button>
            </div>
            
            <div class="table-responsive mt-4">
                <table class="table" id="tableTransactions">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Article</th>
                            <th>Type</th>
                            <th>Quantité</th>
                            <th>Prix</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- Rapports -->
        <div id="rapports" class="page">
            <h2>Rapports journaliers</h2>
            <div class="row mt-4 g-2">
                <div class="col-md-4">
                    <input type="date" id="dateRapport" class="form-control">
                </div>
            </div>
            <div id="rapportJournalier" class="mt-4"></div>
        </div>
    </div>

    <!-- Modal Nouvel Article -->
    <div class="modal fade" id="modalArticle">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Nouvel article</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="formArticle">
                        <div class="mb-3">
                            <label class="form-label">Référence</label>
                            <input type="text" class="form-control" name="reference" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Nom</label>
                            <input type="text" class="form-control" name="nom" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" name="description"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Catégorie</label>
                            <input type="text" class="form-control" name="categorie" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Taille</label>
                                    <input type="text" class="form-control" name="taille">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Couleur</label>
                                    <input type="text" class="form-control" name="couleur">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Prix d'achat (FCFA)</label>
                                    <input type="number" class="form-control" name="prixAchat" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Prix de vente (FCFA)</label>
                                    <input type="number" class="form-control" name="prixVente" required>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Stock initial</label>
                                    <input type="number" class="form-control" name="quantiteEnStock" value="0">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Seuil d'alerte</label>
                                    <input type="number" class="form-control" name="seuilAlerte" value="5">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-primary" id="btnSaveArticle">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Transaction -->
    <div class="modal fade" id="modalTransaction">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Nouvelle transaction</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="formTransaction">
                        <div class="mb-3">
                            <label class="form-label">Article</label>
                            <select class="form-control" name="articleId" required>
                                <option value="">Sélectionner un article</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Type</label>
                            <select class="form-control" name="type" required>
                                <option value="ENTREE">Entrée en stock</option>
                                <option value="SORTIE">Sortie (Vente)</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Quantité</label>
                            <input type="number" class="form-control" name="quantite" required min="1">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Prix unitaire (FCFA)</label>
                            <input type="number" class="form-control" name="prix" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Note</label>
                            <textarea class="form-control" name="note"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-primary" id="btnSaveTransaction">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/config.js" type="module"></script>
    <script src="js/app.js" type="module"></script>
</body>
</html>
